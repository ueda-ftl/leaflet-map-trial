<!DOCTYPE html>
<html lang="ja">

<head>
	<meta charset="utf-8">
	<title>MapLibre Pot Marking</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- MapLibre GL JS
	cf. https://maplibre.org/maplibre-gl-js/docs/
	-->
	<link href="https://unpkg.com/maplibre-gl/dist/maplibre-gl.css" rel="stylesheet" />
	<script src="https://unpkg.com/maplibre-gl/dist/maplibre-gl.js"></script>

	<!-- turf
	cf. https://maplibre.org/maplibre-gl-js/docs/examples/draw-a-circle/
	-->
	<script src="https://cdn.jsdelivr.net/npm/@turf/turf/turf.min.js"></script>

	<!-- font awesome
	cf. https://fontawesome.com/search?q=location&ic=free
	-->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css"
		integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css">

	<script src="js/polyline_encoding.js"></script>

	<style>
		html,
		body {
			height: 100%;
			margin: 0;
		}

		#map {
			height: 100%;
			width: 100%;
		}

		.controls {
			position: absolute;
			background: rgba(255, 255, 255, 0.2);
			padding: 6px;
			border-radius: 6px;
			box-shadow: 0 1px 6px rgba(0, 0, 0, 0.2);
			z-index: 10;

			button {
				color: rgb(64, 64, 255);
				border-color: rgb(64, 64, 255);
				font-size: 18px;
				padding: 3px;
				margin: 2px;
				background: rgba(255, 255, 255, 0.4);
			}

			button:disabled {
				cursor: not-allowed;
				opacity: 0.3;
			}

			#addFavBtn {
				color: red;
				background-color: rgba(255, 128, 128, 0.3);
				border-color: red;
				font-size: 32px;
			}
		}

		.controls.lt {
			top: 10px;
			left: 10px;
		}

		.controls.lb {
			bottom: 70px;
			left: 10px;
		}

		.controls.cb {
			bottom: 10px;
			left: 50%;
			transform: translateX(-50%);
		}

		/* お気に入りマーカーを地図上の他の要素より前面に表示 */
		.favorite-marker {
			z-index: 10;
		}

		/* ユーザー位置の精度円をクリック不可にする */
		.maplibregl-user-location-accuracy-circle {
			pointer-events: none;
			background-color: #1da1f210;
		}

		/* コントロールの背景を半透明に */
		.maplibregl-ctrl-group {
			background: rgba(255, 255, 255, 0.4);
		}

		#toast {
			position: absolute;
			left: 10px;
			top: 60px;
			background: rgba(0, 0, 0, 0.8);
			color: #fff;
			padding: 6px 12px;
			border-radius: 6px;
		}
		#toast.hide {
			display: none;
		}

		#basemap_select {
			position: absolute;
			top: 10px;
			right: 48px;
			background: rgba(255, 255, 255, 0.5);
			padding: 4px;
			border-radius: 4px;
		}

		.maplibregl-ctrl-scale {
			background: rgba(255, 255, 255, 0.1);
		}
	</style>
</head>

<body>
	<!-- 地図表示エリア -->
	<div id="map"></div>

	<div id="basemap-control">
		<select id="basemap_select"></select>
	</div>

	<!-- 各種操作ボタン -->
	<div class="controls lt">
		<button id="saveUrlBtn" title="URL保存"><i class="fa-solid fa-bookmark"></i></button>
		<button id="downloadCsvBtn" title="CSV保存"><i class="fa-solid fa-file-csv"></i></button>
		<button id="clearTrajBtn" title="軌跡削除"><i class="fa-solid fa-eraser"></i></button>
	</div>
	<div class="controls lb">
		<button id="delFavBtn" title="お気に入り削除"><i class="fa-solid fa-delete-left"></i></button>
	</div>
	<div class="controls cb">
		<button id="addFavBtn" title="お気に入り追加"><i class="fa-solid fa-thumbtack"></i></button>
	</div>

	<!-- トースト表示エリア -->
	<div id="toast" class="hide"></div>

	<script src="js/with_maplibregl.js?v=0.0.2"></script>
</body>

</html>